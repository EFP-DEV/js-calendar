<!DOCTYPE html>
<html lang="fr">

<head>
    <title>JS-Calendar</title>
    <style type="text/css">
        td {
            border: 1px solid black;
            padding: 1em;
            text-align: center;
        }

        td.today {
            background-color: red;
        }

        textarea {
            width: 100%;
            height: 30em;
        }
    </style>
</head>

<body>


    <h1>JS-Calendar</h1>
    <h2>Partie 0 : Générer un &lt;table&gt; pour le mois de janvier</h2>
    <script type="application/javascript">
        console.log("Début");

        // let max_days = 31;
        // let current_day = 1;


        // document.write("<table><tr>");
        // while (current_day <= max_days) {
        //     // console.log('current/max : ' + current_day + '/' + max_days);
        //     document.write("\n<td>" + current_day + "</td>");
        //     current_day = current_day + 1;
        // }
        // document.write("</tr></table>");


        console.log("Fin");
    </script>



    <h2>Partie 1 : Générer un &lt;table&gt; sur plusieurs lignes</h2>
    <script type="application/javascript">
        console.log("Début");

        // let max_cols = 7, max_lines = 5;
        // let cpt_line = 1, cpt_col = 1;
        // current_day = 1;
        // document.write("<table>");

        // for (let i = 0; i < max_lines; ++i) {
        //     document.write("<tr>");
        //     for (let cpt_col = 0; cpt_col < max_cols; ++cpt_col) {

        //         document.write("<td>" + current_day++ + "</td>");
        //     }
        //     document.write("</tr>");
        // }
        // document.write("</table>");

        console.log("Fin");
    </script>



    <h2>Partie 2 : Générer le mois de janvier</h2>
    <script type="application/javascript">
        // let max_days = 31;
        // let current_day = 1;
        // let max_cols = 7, max_lines = 5;
        // let cpt_line = 1, cpt_col = 1;

        // document.write("<table>");
        // let i = 0;
        // while ( i < max_lines) {
        //     document.write("<tr>");
        //     let cpt_col = 0; 
        //     while (cpt_col < max_cols && current_day <= max_days) {
        //         document.write("<td>" + current_day + "</td>");
        //         ++current_day;
        //         ++cpt_col;
        //     }

        //     document.write("</tr>");
        //      ++i;
        // }
        // document.write("</table>");

        // document.write("<table>");
        // document.write("</table>");

    </script>



    <h2>Partie 3 : Isoler le code dans une fonction</h2>
    <script type="application/javascript">
        
        function print_table_month(max_days, today=null)
        {
            let max_cols = 7, max_lines = 5;
            let current_day = 1;
            let cpt_line = 1, cpt_col = 1;

            document.write("<table>");
            let i = 0;
            while ( i < max_lines) {
                document.write("<tr>");
                let cpt_col = 0; 
                while (cpt_col < max_cols && current_day <= max_days) {
                    if(today === current_day){
                        document.write("<td class=\"today\">" + current_day + "</td>");
                    }
                    else{
                        document.write("<td>" + current_day + "</td>");
                    }
                    ++current_day;
                    ++cpt_col;
                }

                document.write("</tr>");
                ++i;
            }
            document.write("</table>");
        }

       
    </script>



    <h2>Partie 4 : Générer les autres mois</h2>
    <script type="application/javascript">
        console.log("Début");
        let month_days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        let month_names = ['a','a','a','a','a','a','a','a','a','a','a','a'];

        let today = new Date();                
        let current_month = today.getMonth();
        let current_day = today.getDate();

        let i = 0;
        while(i<12){
            document.write('<h3>' + month_names[i] + '</h3>');
            if (i == current_month){
                console.log('on passe bien dans le if', current_month, current_day);
                print_table_month(month_days[i], current_day);
            }
            else{
                print_table_month(month_days[i]);
            }
            ++i;
        }

        console.log("Fin");
    </script>

    <h2>Partie 5 : Afficher le jour courant en rouge</h2>
    <script type="application/javascript">
        console.log("Début");

        console.log("Fin");

    </script>
</body>

</html>